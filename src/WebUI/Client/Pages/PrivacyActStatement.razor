@page "/privacy-act-statement"
@inherits PrivacyActStatementBase

<h1>Privacy Act Statement</h1>

<Survey Id="surveyElementPrivacyAct"
        SurveyUrl="sample-data/privacyActStatementSurvey.json"
        OnSurveyCompleted="@OnSurveyCompleted"
        OnLoadData="LoadDataHandler"
/>

@code {
    protected async Task LoadDataHandler(Survey sender)
    {
        var isPrivacyActStatementAccepted = await Http.GetFromJsonAsync<bool>("api/PrivacyStatement");

        string data = "";
        if (isPrivacyActStatementAccepted)
        {
            data = "{ \"questionAcceptPaStatement\": [ \"iAcceptPaStatement\" ] }";
        }

        await sender.SetData(data);
    }
}