@inject NavigationManager Navigation
@code {
    protected override void OnInitialized()
    {
        #if DEBUG
        try
        {
        #endif
            NavigateToExternalLogin();
        #if DEBUG
        }
        catch (Microsoft.AspNetCore.Components.NavigationException e)
        {
        }
        #endif
    }

    private void NavigateToExternalLogin()
    {
        var baseUriRange = Navigation.BaseUri.Length..;
        var returnUrl = System.Net.WebUtility.UrlEncode(Navigation.Uri[baseUriRange]);
        var uri = $"{Navigation.BaseUri}external/login?returnUrl=/{returnUrl}";

        Navigation.NavigateTo(uri, forceLoad: true);
    }
}