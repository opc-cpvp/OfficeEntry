@inherits Fluxor.Blazor.Web.Components.FluxorComponent

@page "/en/review-access-requests"
@page "/fr/approuver-les-demandes"

@using OfficeEntry.WebApp.Shared

<h1>@Localizer["Review Access Requests"]</h1>

@if (ApprovalsState.Value.IsLoading)
{
    <Loading />
}
else
{
    // The ordering matches the list order returned by the application layer
    //     - Status
    //     - StartTime
    <AccessRequestDatatable
        AccessRequests="@ApprovalsState.Value.AccessRequests"
        DataOrder="@( "[[ 5, \"asc\" ], [ 0, \"desc\" ]]" )">
    </AccessRequestDatatable>

    <button @onclick="Refresh" class="btn btn-secondary">
        <span class="oi oi-reload"></span>
        <span>@Localizer["Refresh the list"]</span>
    </button>
}